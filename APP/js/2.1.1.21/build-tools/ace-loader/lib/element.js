"use strict";var _loaderUtils=_interopRequireDefault(require("loader-utils")),_parser=require("./parser");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=function(e){this.cacheable&&this.cacheable();var t=this.async(),r=_loaderUtils.default.getOptions(this)||{},a=(_loaderUtils.default.parseQuery(this.resourceQuery)||{}).name;(r.extract?(0,_parser.extractBlocks)(e,"elements"):Promise.resolve({content:e})).then(function(e){if(r.raw)return e[a].content}).then(function(e){t(null,e)}).catch(function(e){t(e,"")})};